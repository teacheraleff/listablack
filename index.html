<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLAP | Black Friday - Acesso Antecipado</title>
    <!-- Favicon da SLAP -->
    <link rel="icon" type="image/png" href="https://res.cloudinary.com/dqfi22uz0/image/upload/v1749543469/SLAP_FAVICON_AMARELO_coilvj.png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: DM Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* Aplicando a fonte padrão e cores do Hub Pedagógico */
        html, body {
            /* Garante que o body não tem scroll horizontal indesejado e usa a altura total */
            height: 100%;
            overflow-x: hidden;
            transition: background-color 0.4s ease; /* Adiciona transição para a mudança de cor de fundo */
        }
        body {
            font-family: 'DM Sans', sans-serif;
            display: flex;
            flex-direction: column;
            /* Cor de fundo padrão (será sobrescrita pelo JS/classes) */
            background-color: #1c1917; /* stone-900 (Fundo inicial escuro) */
            color: #f5f5f4; /* stone-100 (Cor inicial do texto) */
            /* Controla o scroll vertical, só aparece se o conteúdo for maior que o viewport */
            overflow-y: auto; 
        }

        /* Classes dinâmicas para mudar o fundo no JS */
        .bg-dark { background-color: #1c1917; color: #f5f5f4; }
        .bg-yellow { background-color: #F1D24B; color: #44403c; }
        .bg-white-quiz { background-color: white; color: #44403c; } /* Mantido por consistência, será usado para a tela de Agradecimento */
        
        /* Otimiza a rolagem de ecrã para evitar barras duplas e scroll desnecessário */
        main {
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh; /* Garante que o main centraliza o conteúdo verticalmente */
            padding: 1rem 1rem; /* Reduz padding vertical base para o mobile */
            width: 100%;
        }

        /* Estilos base para todas as "telas" */
        .screen-view {
            width: 100%; 
            max-width: 48rem; /* Limita a largura do conteúdo para desktop */
            text-align: center;
            padding: 1.5rem 0;
            height: auto;
        }

        /* Estilos específicos para Ecrãs de Apresentação Escuros */
        .dark-splash {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* Estilos de Botão mantidos do design original */
        .action-button {
             background-color: #F1D24B; 
             color: #44403c; /* stone-800 */
             border: none; 
             padding: 0.75rem 1.5rem; 
             border-radius: 9999px; 
             font-weight: 700; 
             cursor: pointer; 
             transition: background-color 0.2s, transform 0.2s;
             display: inline-flex;
             align-items: center;
             gap: 0.5rem;
             text-decoration: none;
        }
        .action-button:hover:not(:disabled) {
            background-color: #eab308; /* Darker yellow */
            transform: translateY(-2px);
        }
        .action-button:disabled {
            background-color: #a8a29e; /* stone-400 */
            cursor: not-allowed;
        }

    </style>
</head>
<body class="bg-dark text-stone-100">

    <main id="app-container">
        <!-- Contêiner principal para centralizar e limitar o conteúdo no desktop -->
        <div class="w-full max-w-7xl mx-auto">
        
            <!-- SPLASH SCREEN 1: BLACK FRIDAY PROMO -->
            <div id="splash-1-view" class="dark-splash screen-view mx-auto md:max-w-xl">
                <!-- Ícone Original (Fundo Amarelo) - rounded-lg ATIVO -->
                <img src="https://res.cloudinary.com/dqfi22uz0/image/upload/v1749349751/DBB440C2-684E-4DCF-9CD3-B2DDC18F1E53_3_vgocga.jpg" alt="SLAP Logo" class="w-32 h-auto mx-auto mb-4 sm:mb-6 rounded-lg">
                <h1 class="text-4xl sm:text-5xl font-bold text-[#F1D24B] mb-4 sm:mb-6">
                    Quer ser o primeiro a saber da MEGA OFERTA de Black Friday do SLAP?
                </h1>
                <!-- O botão agora vai diretamente para o formulário -->
                <button class="action-button bg-[#F1D24B] text-stone-900 text-xl px-12 py-4" onclick="goToForm()">
                    Quero Acesso Antecipado!
                </button>
            </div>

            <!-- Passo 1: Formulário de Inscrição (Fundo Amarelo) -->
            <div id="form-view" class="screen-view hidden flex justify-center w-full mx-auto">
                <!-- Conteúdo do Formulário -->
                <div class="text-stone-800 p-6 sm:p-8 rounded-xl text-center w-full md:max-w-lg">
                    <!-- Ícone Original (Fundo Amarelo) - rounded-lg ATIVO -->
                    <img src="https://res.cloudinary.com/dqfi22uz0/image/upload/v1749349751/DBB440C2-684E-4DCF-9CD3-B2DDC18F1E53_3_vgocga.jpg" alt="SLAP Logo" class="w-32 h-auto mx-auto mb-4 rounded-lg">
                    <h1 class="text-3xl font-bold text-stone-900">Garanta Seu Acesso VIP</h1>
                    <p class="text-stone-700 mt-2 mb-6">Preencha seus dados para receber as ofertas da Black Friday com exclusividade.</p>
                    <!-- Formspree action é configurado para receber os dados -->
                    <form id="lead-form" action="https://formspree.io/f/xyzblgop" method="POST" class="text-left space-y-4 max-w-sm mx-auto">
                        <div>
                            <label for="name" class="font-semibold text-stone-800 block mb-1">Nome Completo</label>
                            <input type="text" id="name" name="name" class="w-full px-4 py-2 bg-yellow-50 border-2 border-transparent rounded-lg focus:outline-none focus:border-stone-800 text-stone-900 placeholder-stone-500" required>
                        </div>
                        <div>
                            <label for="email" class="font-semibold text-stone-800 block mb-1">E-mail</label>
                            <input type="email" id="email" name="email" class="w-full px-4 py-2 bg-yellow-50 border-2 border-transparent rounded-lg focus:outline-none focus:border-stone-800 text-stone-900 placeholder-stone-500" required>
                        </div>
                        <div>
                            <label for="whatsapp" class="font-semibold text-stone-800 block mb-1">WhatsApp (com DDD)</label>
                            <input type="tel" id="whatsapp" name="whatsapp" class="w-full px-4 py-2 bg-yellow-50 border-2 border-transparent rounded-lg focus:outline-none focus:border-stone-800 text-stone-900 placeholder-stone-500" placeholder="(XX) XXXXX-XXXX" required>
                        </div>
                        
                        <!-- NOVO CAMPO: LISTA SUSPENSA DE TEACHERS VIP -->
                        <div>
                            <label for="vip_teacher" class="font-semibold text-stone-800 block mb-1">Qual teacher te deu esse acesso VIP?</label>
                            <select id="vip_teacher" name="vip_teacher" class="w-full px-4 py-2 bg-yellow-50 border-2 border-transparent rounded-lg focus:outline-none focus:border-stone-800 text-stone-900" required>
                                <option value="" disabled selected>Selecione um(a) teacher</option>
                                <option value="Teacher Victor">Teacher Victor</option>
                                <option value="Teacher Letícia">Teacher Letícia</option>
                                <option value="Teacher Anael">Teacher Anael</option>
                                <option value="Teacher Jaynni">Teacher Jaynni</option>
                                <option value="Teacher Areli">Teacher Areli</option>
                                <option value="Teacher Felipe">Teacher Felipe</option>
                            </select>
                        </div>

                        <div class="text-center pt-4">
                            <button id="submit-lead-btn" type="submit" class="action-button w-full sm:w-auto justify-center bg-stone-800 text-white hover:bg-stone-900">
                                Receber as Ofertas
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
                            </button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- NEW: Thank You Screen (Fundo Branco/Claro) -->
            <div id="thank-you-view" class="screen-view hidden mx-auto md:max-w-3xl">
                <div class="p-8 text-center w-full text-stone-800">
                    <!-- Ícone de Confirmação (Verificado) -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-20 h-20 mx-auto mb-6 text-green-500" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg>
                    
                    <h2 class="text-3xl sm:text-4xl font-bold mb-4 text-stone-900">Acesso Antecipado Confirmado!</h2>
                    
                    <p class="text-xl text-stone-700 mb-8 max-w-lg mx-auto leading-relaxed font-semibold">
                         Nossa Black Friday será no dia 14, mas você receberá as ofertas no dia 13, antes de todo mundo!
                    </p>
                    
                    <p class="text-stone-600 mb-8">
                        Fique de olho no seu e-mail e WhatsApp!
                    </p>

                    <!-- Botão CTA (opcional: leva para o site principal) -->
                    <div class="text-center">
                         <a href="https://slapingles.com" target="_blank" class="action-button text-lg px-8 py-3 bg-stone-800 text-white hover:bg-stone-900">
                             Visitar SLAP
                         </a>
                    </div>
                </div>
            </div>

        </div>
    </main>
    
    <!-- Áudio removido, não é mais necessário para esta funcionalidade -->

    <script>
        // --- ELEMENTOS DO DOM ---
        const splash1View = document.getElementById('splash-1-view');
        const formView = document.getElementById('form-view');
        const thankYouView = document.getElementById('thank-you-view');
        const leadForm = document.getElementById('lead-form');
        
        // --- Variáveis para armazenar os dados do utilizador (para enviar ao Formspree) ---
        let studentName = '';
        let studentEmail = '';
        let studentWhatsapp = '';

        // --- FUNÇÕES DE NAVEGAÇÃO ENTRE TELAS ---
        function hideAllViews() {
            splash1View.classList.add('hidden');
            formView.classList.add('hidden');
            thankYouView.classList.add('hidden');
        }

        // Função para aplicar as classes de fundo ao body
        function setBodyBackground(viewId) {
            document.body.classList.remove('bg-dark', 'bg-yellow', 'bg-white-quiz', 'text-stone-100', 'text-stone-800');
            
            if (viewId === 'splash-1-view') {
                document.body.classList.add('bg-dark', 'text-stone-100');
            } else if (viewId === 'form-view') {
                document.body.classList.add('bg-yellow', 'text-stone-800');
            } else if (viewId === 'thank-you-view') {
                // Fundo branco para a tela de agradecimento para um visual limpo de sucesso
                document.body.classList.add('bg-white-quiz', 'text-stone-800');
            }
        }

        function startSplash1() {
            hideAllViews();
            setBodyBackground('splash-1-view');
            splash1View.classList.remove('hidden');
        }

        window.goToForm = function() {
            hideAllViews();
            setBodyBackground('form-view');
            formView.classList.remove('hidden');
            // Foca no primeiro campo do formulário
            document.getElementById('name').focus();
        }

        window.goToThankYou = function() {
            hideAllViews();
            setBodyBackground('thank-you-view');
            thankYouView.classList.remove('hidden');
        }
        
        // --- EVENTO DE ENVIO DO FORMULÁRIO (ENVIA LEAD E MOSTRA MENSAGEM) ---
        leadForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Armazena os dados do utilizador para possível uso (e envio via fetch)
            studentName = document.getElementById('name').value;
            studentEmail = document.getElementById('email').value;
            studentWhatsapp = document.getElementById('whatsapp').value;
            
            const submitBtn = document.getElementById('submit-lead-btn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'Enviando...';

            // Prepara os dados para o Formspree
            const submissionData = new FormData(leadForm);
            
            // Adiciona um campo de controle para identificar a origem (opcional)
            submissionData.append('Origem', 'Black Friday Landing Page'); 

            // Envia os dados para o Formspree
            // Note: O Formspree action foi atualizado para https://formspree.io/f/xyzblgop
            fetch(leadForm.action, {
                method: 'POST',
                body: submissionData,
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if (response.ok) {
                    // Sucesso no envio: vai para a tela de agradecimento
                    console.log("Lead enviado com sucesso para o Formspree.");
                    goToThankYou();
                } else {
                    // Se houver erro, tenta mostrar a mensagem de sucesso mesmo assim
                    // mas imprime o erro no console
                    console.error("Houve um problema ao enviar o lead para o Formspree, mas continuando para a tela de sucesso.");
                    goToThankYou(); 
                }
            }).catch(error => {
                // Erro de conexão
                console.error("Erro de conexão ao enviar o lead:", error);
                // Força a tela de agradecimento
                goToThankYou();
            }).finally(() => {
                // Reseta o estado do botão
                submitBtn.disabled = false;
                // Corrigido o texto do botão para refletir a nova funcionalidade de lead
                submitBtn.innerHTML = `Receber as Ofertas <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>`;
            });
        });
        
        // --- INICIA O FLUXO NO PRIMEIRO SPLASH SCREEN ---
        window.onload = startSplash1;
    </script>
</body>
</html>
